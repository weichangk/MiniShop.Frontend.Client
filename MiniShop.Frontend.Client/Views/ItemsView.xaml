<UserControl 
    x:Class="MiniShop.Frontend.Client.Views.ItemsView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
    xmlns:md="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:prism="http://prismlibrary.com/"
    xmlns:local="clr-namespace:MiniShop.Frontend.Client.Views"
    mc:Ignorable="d" 
    d:DesignHeight="700" d:DesignWidth="1000"
    prism:ViewModelLocator.AutoWireViewModel="True"
    TextElement.Foreground="{DynamicResource MaterialDesignBody}"
    TextElement.FontWeight="Regular"
    TextElement.FontSize="13"
    TextOptions.TextFormattingMode="Ideal" 
    TextOptions.TextRenderingMode="Auto"        
    Background="{DynamicResource MaterialDesignPaper}"
    FontFamily="{DynamicResource MaterialDesignFont}">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition/>
            <RowDefinition Height="40"/>
        </Grid.RowDefinitions>

        <ScrollViewer x:Name="ItemsScrollViewer" VerticalScrollBarVisibility="Hidden">
            <ItemsControl HorizontalAlignment="Center" ItemsSource="{Binding ItemDtos}">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <WrapPanel Cursor="Hand" />
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>

                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <md:TransitioningContent OpeningEffect="{md:TransitionEffect Kind=ExpandIn}">
                            <Grid
                                    Width="212"
                                    MinHeight="140"
                                    MaxHeight="160"
                                    Margin="3">

                                <Grid.RowDefinitions>
                                    <RowDefinition Height="auto" />
                                    <RowDefinition />
                                </Grid.RowDefinitions>

                                <Border Background="#1E90FF"
                                            Grid.RowSpan="2"    
                                            CornerRadius="3"/>

                                <TextBlock
                                            Padding="10,5"
                                            FontWeight="Bold"
                                            Text="{Binding Name}" />
                                <!--<TextBlock
                                            Grid.Row="1"
                                            Padding="10,5"
                                            Text="{Binding Code}" />-->
                                <Button Grid.Row="1" 
                                        Command="{Binding SelectItemCodeCommand}" 
                                    CommandParameter="111" Cursor="Hand">

                                </Button>
                            </Grid>
                        </md:TransitioningContent>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>
        <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right">
            <TextBox 
                        x:Name="DemoItemsSearchBox"
                        Text="{Binding SearchKeyword, UpdateSourceTrigger=PropertyChanged}"
                        DockPanel.Dock="Top"
                        Margin="16, 4"
                        Width="700"
                        md:HintAssist.Hint="Search"
                        md:HintAssist.IsFloating="True"
                        md:TextFieldAssist.HasClearButton="True"
                        md:TextFieldAssist.HasOutlinedTextField="True"
                        md:TextFieldAssist.DecorationVisibility="Collapsed"
                        md:TextFieldAssist.TextFieldCornerRadius="4"/>
            <Button
                Margin="2,2"
                Width="100"
                Height="30"
                Content="{md:PackIcon Kind=MenuUp,Size=24}"
                Click="Up_Click"/>
            <Button
                Margin="2,2,25,2"
                Width="100"
                Height="30"
                Content="{md:PackIcon Kind=MenuDown,Size=24}"
                Click="Down_Click"/>
        </StackPanel>
    </Grid>
</UserControl>
